name: Git Hub Actions Workflow

on: [push]

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Set up Docker
      run: docker-compose up -d --build
           
    - name: Run tests
      run: docker-compose exec web python manage.py test
        
    - name: Verify service is running
      run: |
        docker-compose ps
        curl --fail http://localhost:8000 || docker-compose logs web